<!-- 
  项目地址 https://codepen.io/Loopez10/pen/dMaVdQ
  素材1. https://s3-us-west-2.amazonaws.com/s.cdpn.io/600764/sprite.png
  素材2. https://s3-us-west-2.amazonaws.com/s.cdpn.io/600764/explosion.png
 -->

<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>spaceGameDemo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <canvas id="game"></canvas>
</body>

<script>
  class Game {
    constructor() {
      let game = document.getElementById("game");
      this.ctx = game.getContext("2d");
      this.vw = document.getElementById("game").parentNode.clientWidth;
      this.vh = document.getElementById("game").parentNode.clientHeight;
      game.width = this.vw;
      game.height = this.vh;

      let spriteImg = new Image();
      spriteImg.src = "https://s3-us-west-2.amazonaws.com/s.cdpn.io/600764/sprite.png";
      this.spriteImg = spriteImg;
      
      // 图片加载完成
      spriteImg.onload = () => {4
        this.drawBackground();
      }
    }

    drawBackground() {
      let left = (this.vw / 2) - 100;
      let top = (this.vh / 2) - 100;
      // this.ctx.drawImage(this.spriteImg, 0, 0, 200, 200, left, top, 200, 200);
      this.ctx.fillText("Game", 20, 20);
    }
  }

  // 监听页面加载完成
  window.addEventListener('load', function () {
    new Game();
  })

</script>
<style>
  html,
  body {
    padding: 0;
    margin: 0;
    width: 100%;
    height: 100%;
  }

  html {
    overflow: hidden;
    height: 100%;
    /* background: #191919; */
    width: 100%;
  }

  canvas {
    background: url('http://s3-us-west-2.amazonaws.com/s.cdpn.io/600764/space.jpg') no-repeat;
    width: 100%;
    height: 100%;
    background-size: cover;
  }

  canvas.playing {
    cursor: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/600764/aim_red.png') 17.5 17.5, auto !important;
  }

  .full-screen {
    position: fixed;
    width: 35px;
    height: 35px;
    background: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/600764/full-screen.png) no-repeat;
    z-index: 10;
    display: block;
    right: 10px;
    bottom: 10px;
  }
</style>

</html>